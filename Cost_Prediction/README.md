# Cost_Prediction
First project that existed in an AWS production environment. Designed to use multivariate linear regression to predict medical expenses for long term care based on diagnosis, number of comorbidities, and projected length of stay. (October 2017-August 2018)

This repository hosts various files used to create an automated price prediction app for MedaSync. The workflow of the project is as follows:
 - (1) File: data_transfer_ec2_prod_linux_display.py. A database with patient information was transferred from an Azure DB to an AWS S3 bucket. This script transferred the data from S3 to AWS MySql DB (cumbersome but necessary). This script was hosted on an AWS EC2 linux instance as a cron script and updated the MySql DB only when new entries were found in the S3 bucket.
 - (2) File: parameter_estimation_display.py. A python script used this MySql DB to create multivariate linear regression models for each diagnosis. This supervised learning project used previous patients' costs per day as a function of number of comorbidities and length of stay with the same diagnosis. Unfortunately, I did not use gradient descent in this learning algorithm, but rather used linear algebra to explicitly calculate parameters. But the script had checks to make sure there was sufficient patient data for each diagnosis before generating parameters for models. Data about each model was also stored in the MySql DB such as sample size, R^2 (since it's a linear model), and standard error. This script was run periodically on the same EC2 instance to update the models as more patient data was acquired.
 - (3) File: lambda_calc_prod.py. Another python script was hosted on AWS lambda which was used to calculate the project cost for a patient with a diagnosis code, a number of comorbidities, and a projected length of stay. Model parameters for a diagnosis were taken from the MySql DB to project the cost. If not enough data was available to construct a model, the lambda function returned a variable that labeled the prediction as unusable so that the end user of the MedaSync app would not make errant decisions based on models constructed poorly.
